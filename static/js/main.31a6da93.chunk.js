(this.webpackJsonpchatbot=this.webpackJsonpchatbot||[]).push([[0],{10:function(e,a,o){e.exports=o(21)},15:function(e,a,o){},16:function(e,a,o){},20:function(e,a,o){e.exports=o.p+"static/media/tone.fedc1eda.mp3"},21:function(e,a,o){"use strict";o.r(a);var t=o(0),r=o.n(t),n=o(5),i=o.n(n),s=(o(15),o(16),o(6)),c=o.n(s);var l=function(e){var a=e.triggerNextStep;return r.a.createElement("button",{onClick:function(){navigator.mediaDevices.enumerateDevices().then((function(e){return e.every((function(e){return!(e.deviceId&&e.label)}))})).then((function(e){if(console.log({shouldAskForMediaPermissions:e}),e)return navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){return e.getTracks().forEach((function(e){return e.stop()}))})).catch((function(e){throw console.log("Permission denied",e),new Error(e)}))})).then((function(e){a({trigger:"14",value:"Okay!"})})).catch((function(e){var o=(e||{}).message;o&&o.indexOf("NotFoundError")>-1?a({trigger:"no-devices-message"}):a({trigger:"15",value:"Okay!"})}))}},"Okay!")};function g(){var e,a=Object(t.useRef)(null);return Object(t.useEffect)((function(){var o,t=a.current;t.muted=!0,o=t,"undefined"!==typeof e&&e.getTracks().forEach((function(e){e.stop()})),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(a){e=a,o.srcObject=a})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("video",{id:"video",ref:a,autoPlay:!0,playsInline:!0,style:{width:"200px",height:"200px"}})}var d=function(){return r.a.createElement(c.a,{headerTitle:"BSWH",customDelay:2e3,steps:[{id:"1",message:"Hey there, I'm BSWHbot! \ud83d\ude04",trigger:"2"},{id:"2",message:"I've been asked to make sure your system is ready for a BSWH call. Shall we get started?",trigger:"3"},{id:"3",options:[{value:!0,label:"Yes, please",trigger:"4"},{value:!1,label:"No, thanks",trigger:"end-message"}]},{id:"4",message:"Alrighty, let's start by testing your speakers. Click Play!",trigger:"6"},{id:"end-message",message:"Okay, see you!",end:!0},{id:"6",options:[{value:!0,label:"Play",trigger:"audio"}]},{id:"audio",component:r.a.createElement(r.a.Fragment,null,r.a.createElement("iframe",{src:o(20),allow:"autoplay",style:{display:"none"},id:"iframeAudio"})),asMessage:!0,trigger:"7"},{id:"7",message:"Do you hear the sound I'm playing?",trigger:"8"},{id:"8",options:[{value:!0,label:"Yes",trigger:"9"},{value:!1,label:"No",trigger:"end-message"}]},{id:"9",message:"Super \ud83d\ude0a! That means you will hear your provider.?",trigger:"10"},{id:"10",message:"Okay, now let's check your microphone and webcam.?",trigger:"11"},{id:"11",options:[{value:!0,label:"Okay!",trigger:"12"}]},{id:"12",message:"I'll need your permission to use your microphone and webcam. When prompted, click Allow. \ud83d\ude4f",trigger:"13"},{id:"13",component:r.a.createElement(l,null),asMessage:!0,waitAction:!0},{id:"14",message:"Ok great, it looks like we can now access your microphone and camera!",trigger:"18"},{id:"15",message:"Whoa, you denied access to your microphone and webcam!",trigger:"16"},{id:"16",message:"In order for your microphone and webcam to work, you need to allow access.",trigger:"17"},{id:"17",options:[{value:!0,label:"Try Again!",trigger:"10"}]},{id:"no-devices-message",message:"Uh oh! Looks like you dont have either camera or microphone connected to your device",trigger:"17"},{id:"18",message:"Say something into your microphone?\ud83c\udf99\ufe0f",trigger:"microphone"},{id:"microphone",component:r.a.createElement(r.a.Fragment,null),asMessage:!0,trigger:"19"},{id:"19",message:"Woohoo, I hear you loud and clear! \ud83d\udce2\ud83e\udd2a",trigger:"20"},{id:"20",message:"Ok, time for the webcam! Do you see a video feed of yourself?",trigger:"video"},{id:"video",component:r.a.createElement(g,null),asMessage:!1,trigger:"21"},{id:"21",options:[{value:!0,label:"Yes",trigger:"22"},{value:!1,label:"No",trigger:"end-message"}]},{id:"22",message:"Alright, you're all set for a great call! \ud83c\udf89\ud83e\udd29"}]})};var u=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.31a6da93.chunk.js.map